
<template id="xgauge-el">
  <style>span { color: orange; }</style><span>My Gauge Title (Shadow DOM)</span>
  <div>
    <div id="gauge1" style="width:400px; height:320px;"></div>
  </div>
</template>
<!--http://justgage.com/-->
<script>
  var GaugeEl = Object.create(HTMLElement.prototype)
  GaugeEl.createdCallback = function() {
  	GaugeEl._shadow = TW.attach(this, '#xgauge-el')
  	console.log('created')
  	
  	GaugeEl._loaded = false//trap
  	TS.loadNX('https://cdn.rawgit.com/topseed/topseed-webcomps/master/_webComp/vendor/justgage.js', GaugeEl.loadedLib )
  }//created
  GaugeEl.loadedLib = function() {
  	if(GaugeEl._loaded) return
  	GaugeEl._loaded = true
  	console.log('loaded')
  
  	var c = $('#gauge1', GaugeEl._shadow)[0]
  	var g = new JustGage({
  		parentNode : c,
  		value: 67,
  		min: 0,
  		max: 100,
  		title: 'Visitors'
  	})
  }//loaded
  TW.register('gauge-el', GaugeEl) //could be in the page compInit callback
</script>